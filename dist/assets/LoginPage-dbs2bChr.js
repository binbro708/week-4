import{_ as f,r as d,c as _,o as v,a as h,b as e,w as l,v as c,d as w,p as b,e as g,u as x}from"./index-4Vvq6a6P.js";import{a as y}from"./axios-_sX4vCAy.js";const r=a=>(b("data-v-96f679fb"),a=a(),g(),a),k={class:"container"},I={class:"row justify-content-center mt-5"},P=r(()=>e("h1",{class:"h3 mb-3 font-weight-normal d-flex justify-content-center"}," 請先登入 ",-1)),V={class:"col-8"},j={id:"form",class:"form-signin"},B={class:"form-floating mb-3"},L=r(()=>e("label",{for:"username"},"Email address",-1)),S={class:"form-floating"},q=r(()=>e("label",{for:"password"},"Password",-1)),D=["disabled"],E=r(()=>e("p",{class:"mt-5 mb-3 text-muted d-flex justify-content-center"}," © 2021~∞ - 六角學院 ",-1)),M={__name:"LoginPage",setup(a){const u=x(),i=d(!1),s=d({username:"",password:""}),p=_(()=>!!s.value.username&&!!s.value.password);function m(){i.value=!0,y.post("https://vue3-course-api.hexschool.io/v2/admin/signin",s.value).then(n=>{const{token:o,expired:t}=n.data;document.cookie=`token=${o};expires=${new Date(t)};`,u.push("/products")}).catch(n=>{i.value=!1,alert(n.response.data.message)})}return(n,o)=>(v(),h("div",k,[e("div",I,[P,e("div",V,[e("form",j,[e("div",B,[l(e("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:"","onUpdate:modelValue":o[0]||(o[0]=t=>s.value.username=t)},null,512),[[c,s.value.username]]),L]),e("div",S,[l(e("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",required:"","onUpdate:modelValue":o[1]||(o[1]=t=>s.value.password=t)},null,512),[[c,s.value.password]]),q]),e("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit",onClick:w(m,["prevent"]),disabled:i.value||!p.value}," 登入 ",8,D)])])]),E]))}},C=f(M,[["__scopeId","data-v-96f679fb"]]);export{C as default};
